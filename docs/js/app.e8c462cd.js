(function(e){function t(t){for(var r,s,u=t[0],o=t[1],c=t[2],h=0,f=[];h<u.length;h++)s=u[h],a[s]&&f.push(a[s][0]),a[s]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,u=1;u<n.length;u++){var o=n[u];0!==a[o]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],o=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var l=o;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"507f":function(e,t,n){},"5c0b":function(e,t,n){"use strict";var r=n("5e27"),a=n.n(r);a.a},"5e27":function(e,t,n){},bb32:function(e,t,n){"use strict";var r=n("507f"),a=n.n(r);a.a},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r,a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[e._v("Poker")]),e._v(" |\n\t\t"),n("router-link",{attrs:{to:"/about"}},[e._v("About")])],1),n("router-view")],1)},s=[],u=(n("5c0b"),n("2877")),o={},c=Object(u["a"])(o,i,s,!1,null,null,null),l=c.exports,h=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{placeholder:"Name of player",disabled:!e.canAddPlayer},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),n("button",{attrs:{type:"button",disabled:!e.canAddPlayer},on:{click:function(t){return e.game.addPlayer(e.name)}}},[e._v("\n\t\t\t\tAdd a player\n\t\t\t")])]),n("button",{staticClass:"btn btn-info",attrs:{type:"submit"},on:{click:function(t){return e.game.generateNewGame()}}},[e._v("\n\t\t\tNew game\n\t\t")]),e._l(e.players,function(t,r){return n("Player",{key:r,class:{isWinner:e.isWinner(t)},attrs:{player:t},on:{delete:function(n){return e.game.removePlayer(t)}}})})],2)])},d=[],p=(n("6762"),n("2fdb"),n("d225")),v=n("b0b4"),y=n("308d"),m=n("6bb5"),b=n("4e2b"),k=n("9ab4"),g=n("60a3"),O=(n("55dd"),n("75fc")),_=(n("20d6"),n("7f7f"),n("ac6a"),n("1c4c"),n("5df3"),n("f400"),n("28a5"),n("3b2b"),["2","3","4","5","6","7","8","9","T","J","Q","K","A"]),H=function(){function e(t){if(Object(p["a"])(this,e),t.length>2||!RegExp(/[2-9TJQKA]{1}[SHDC]{1}$/).test(t))throw new Error("Wrong card");this.value=t[0],this.suit=t[1],this.rank=_.indexOf(this.value)}return Object(v["a"])(e,[{key:"toString",value:function(){return"".concat("T"===this.value?10:this.value).concat(this.suit)}}]),e}();(function(e){e[e["ROYAL_FLUSH"]=1e9]="ROYAL_FLUSH",e[e["STRAIGHT_FLUSH"]=9e8]="STRAIGHT_FLUSH",e[e["FOUR_OF_A_KIND"]=8e8]="FOUR_OF_A_KIND",e[e["FULL_HOUSE"]=7e8]="FULL_HOUSE",e[e["FLUSH"]=6e8]="FLUSH",e[e["STRAIGHT"]=5e8]="STRAIGHT",e[e["THREE_OF_A_KIND"]=4e8]="THREE_OF_A_KIND",e[e["TWO_PAIRS"]=3e8]="TWO_PAIRS",e[e["PAIR"]=1e8]="PAIR",e[e["HIGH_CARD"]=0]="HIGH_CARD"})(r||(r={}));var S=" ",A=[1e3,20,1,.01,1e-4],w=function(){function e(t){if(Object(p["a"])(this,e),!RegExp(/([2-9TJQKA]{1}[SHDC]{1}\s){4}([2-9TJQKA]{1}[SHDC]{1}){1}$/).test(t))throw new Error("Wrong hand");this.cards=t.split(S).map(function(e){return new H(e)}).sort().sort(function(e,t){return e.rank-t.rank}),this.suits=this.cards.map(function(e){return e.suit}).filter(function(e,t,n){return n.indexOf(e)===t}).sort(),this.occurences=new Map,this.countOccurrences(),this.rank=this.computeRank()}return Object(v["a"])(e,[{key:"isFlush",value:function(){return 1===this.suits.length}},{key:"isStraight",value:function(){for(var e=1;e<this.cards.length;e++)if(this.cards[e].rank-1!==this.cards[e-1].rank)return!1;return!0}},{key:"hasAce",value:function(){return this.cards.map(function(e){return e.value}).includes("A")}},{key:"isStraightFlush",value:function(){return this.isFlush()&&this.isStraight()}},{key:"isRoyalFlush",value:function(){return this.isStraightFlush()&&this.hasAce()}},{key:"isFourOfAKind",value:function(){return 2===this.occurences.size&&4===Math.max.apply(Math,Object(O["a"])(Array.from(this.occurences.values())).concat([0]))}},{key:"isFullHouse",value:function(){return this.isThreeOfAKind()&&2===this.occurences.size}},{key:"isThreeOfAKind",value:function(){return 3===Math.max.apply(Math,Object(O["a"])(Array.from(this.occurences.values())).concat([0]))}},{key:"isTwoPairs",value:function(){return this.hasPair()&&3===this.occurences.size}},{key:"isPair",value:function(){return this.hasPair()&&4===this.occurences.size}},{key:"toString",value:function(){return this.cards.join(", ")}},{key:"hasPair",value:function(){return 2===Math.max.apply(Math,Object(O["a"])(Array.from(this.occurences.values())).concat([0]))}},{key:"computeRank",value:function(){return this.isRoyalFlush()?r.ROYAL_FLUSH:this.isStraightFlush()?r.STRAIGHT_FLUSH+this.cards[4].rank:this.isFourOfAKind()?r.FOUR_OF_A_KIND+this.computeHigherCardsRank():this.isFullHouse()?r.FULL_HOUSE+this.computeHigherCardsRank():this.isFlush()?r.FLUSH+this.computeHigherCardsRank():this.isStraight()?r.STRAIGHT+this.cards[4].rank:this.isThreeOfAKind()?r.THREE_OF_A_KIND+this.computeHigherCardsRank():this.isTwoPairs()?r.TWO_PAIRS+this.computeHigherCardsRank():this.isPair()?r.PAIR+this.computeHigherCardsRank():r.HIGH_CARD+this.computeHigherCardsRank()}},{key:"countOccurrences",value:function(){var e=this;this.cards.forEach(function(t){var n=e.occurences.get(t.rank);n?e.occurences.set(t.rank,n+1):e.occurences.set(t.rank,1)})}},{key:"computeHigherCardsRank",value:function(){var e=Array.from(this.occurences).sort(function(e,t){return t[1]-e[1]});return e.map(function(e,t){return e[0]*e[1]*A[t]}).reduce(function(e,t){return e+t},0)}}]),e}(),P=function(){function e(t,n){Object(p["a"])(this,e),this.name=t,this.hand=new w(n)}return Object(v["a"])(e,[{key:"switchCards",value:function(e){this.hand=new w(e)}}]),e}(),R=["2S","2C","2H","2D","3S","3C","3H","3D","4S","4C","4H","4D","5S","5C","5H","5D","6S","6C","6H","6D","7S","7C","7H","7D","8S","8C","8H","8D","9S","9C","9H","9D","TS","TC","TH","TD","JS","JC","JH","JD","QS","QC","QH","QD","KS","KC","KH","KD","AS","AC","AH","AD"],j=function(){function e(){Object(p["a"])(this,e)}return Object(v["a"])(e,null,[{key:"findWinners",value:function(e){var t=Math.max.apply(Math,Object(O["a"])(e.map(function(e){return e.hand.rank})).concat([0]));return e.filter(function(e){return e.hand.rank===t})}}]),e}(),T=function(){function e(t){var n=this;if(Object(p["a"])(this,e),R.length/t.length<5)throw new Error("Too many players");this.randomSortCards(),this.pokerPlayers=t.map(function(e){return new P(e,n.generateRandomHand())}),this.findWinners()}return Object(v["a"])(e,[{key:"generateNewGame",value:function(){var e=this;this.randomSortCards(),this.pokerPlayers.forEach(function(t){return t.switchCards(e.generateRandomHand())}),this.findWinners()}},{key:"addPlayer",value:function(e){if(R.length/(this.pokerPlayers.length+1)<5)throw new Error("It will have too many players in the game");if(0===e.trim().length)throw new Error("Name is empty");var t=this.pokerPlayers.filter(function(t){return t.name===e});if(t.length>0)throw new Error("Name already exists");this.pokerPlayers.push(new P(e,this.generateRandomHand())),this.findWinners()}},{key:"removePlayer",value:function(e){var t=this,n=this.pokerPlayers.findIndex(function(t){return t===e});n>=0&&(e.hand.cards.forEach(function(e){t.cards.push("".concat(e.value).concat(e.rank))}),this.randomSortCards(),this.pokerPlayers.splice(n,1)),this.findWinners()}},{key:"findWinners",value:function(){this.winners=j.findWinners(this.pokerPlayers)}},{key:"randomSortCards",value:function(){this.cards=Object(O["a"])(R),this.cards.sort(function(){return Math.random()-.5})}},{key:"generateRandomHand",value:function(){for(var e=[],t=0;t<5;t++){var n=Math.floor(Math.random()*(this.cards.length-1));e.push(this.cards[n]),this.cards.splice(n,1)}return e.join(" ")}}]),e}(),C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n\t"+e._s(e.player.name)+" : "+e._s(e.player.hand)+"\n\t"),n("button",{on:{click:function(t){return e.$emit("delete",e.player)}}},[e._v("Delete")])])},F=[],D=function(e){function t(){return Object(p["a"])(this,t),Object(y["a"])(this,Object(m["a"])(t).apply(this,arguments))}return Object(b["a"])(t,e),t}(g["c"]);k["a"]([Object(g["b"])()],D.prototype,"player",void 0),D=k["a"]([g["a"]],D);var E=D,I=E,x=Object(u["a"])(I,C,F,!1,null,null,null),K=x.exports,L=function(e){function t(){var e;return Object(p["a"])(this,t),e=Object(y["a"])(this,Object(m["a"])(t).apply(this,arguments)),e.game=new T([]),e.name="",e}return Object(b["a"])(t,e),Object(v["a"])(t,[{key:"created",value:function(){this.game.addPlayer("Player1"),this.game.addPlayer("Player2")}},{key:"isWinner",value:function(e){return!(!this.game||!this.game.winners)&&this.game.winners.includes(e)}},{key:"handler",value:function(){}},{key:"players",get:function(){return this.game?this.game.pokerPlayers:[]}},{key:"canAddPlayer",get:function(){return this.players.length<10}}]),t}(g["c"]);k["a"]([Object(g["d"])("game.pokerPlayers",{deep:!0})],L.prototype,"handler",null),L=k["a"]([Object(g["a"])({components:{Player:K}})],L);var U=L,M=U,W=(n("bb32"),Object(u["a"])(M,f,d,!1,null,"2cb951c4",null)),N=W.exports,G=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},J=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"},[n("h1",[e._v("Description")]),n("p",[e._v("\n\t\tYou can generate a poker game to compare hands of players. You add players, remove players and generate new hands.\n\t")]),n("p",[e._v("\n\t\tA player has a unique name and name cannot be empty.\n\t")]),n("p",[e._v("\n\t\tWinners name will appear in bold and pink.\n\t")])])}],$={},Q=Object(u["a"])($,G,J,!1,null,null,null),Y=Q.exports;a["a"].use(h["a"]);var z=new h["a"]({routes:[{path:"/",name:"pokerGameSimulator",component:N},{path:"/about",name:"about",component:Y}]});a["a"].config.productionTip=!1,new a["a"]({router:z,render:function(e){return e(l)}}).$mount("#app")}});
//# sourceMappingURL=app.e8c462cd.js.map